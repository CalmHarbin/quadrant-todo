# Electron Builder 配置文件
appId: com.example.quadrant-todo
productName: 四象限TODO
directories:
  buildResources: resources
  output: release/${version}

files:
  - dist/**/*
  - dist-electron/**/*
  - node_modules/**/*
  - resources/**/*
  - package.json

# TODO: 添加文件过滤规则优化打包大小
extraResources:
  - from: resources/
    to: resources/
    filter:
      - "**/*"

# Windows 配置
win:
  target:
    - target: nsis
      arch:
        - x64
  requestedExecutionLevel: asInvoker
  
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  allowElevation: true
  createDesktopShortcut: always
  createStartMenuShortcut: true
  shortcutName: 四象限TODO

# macOS 配置  
mac:
  target:
    - target: dmg
      arch:
        - x64
        - arm64
  icon: resources/icon.png
  category: public.app-category.productivity
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: resources/entitlements.mac.plist
  entitlementsInherit: resources/entitlements.mac.plist

dmg:
  title: 四象限TODO ${version}
  icon: resources/icon.png
  iconSize: 80
  contents:
    - x: 410
      y: 150
      type: link
      path: /Applications
    - x: 130
      y: 150
      type: file

# Linux 配置
linux:
  target:
    - target: AppImage
      arch:
        - x64
        - arm64
  icon: resources/icon.png
  category: Office
  desktop:
    Name: 四象限TODO
    Comment: 高效的四象限时间管理工具
    Categories: Office;ProjectManagement;
    Keywords: todo;task;productivity;quadrant;

appImage:
  artifactName: ${productName}-${version}-${arch}.${ext}

# 发布配置
publish:
  provider: generic
  url: https://your-domain.com/releases

# TODO: 添加代码签名配置
# afterSign: scripts/notarize.js

compression: normal
npmRebuild: true